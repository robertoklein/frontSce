<md-dialog aria-label="Confirmação de ordem de empréstimo">
  <form ng-cloak>
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>Visualização de ordem de empréstimos</h2>
        <span flex></span>
      </div>
    </md-toolbar>

    <md-dialog-content>
      <div class="md-dialog-content">
        <md-content>

          <div layout="row">
            <div flex="50">
              Data de retirada:
              <strong>
                {{vm.loan.pullout | date: "dd/MM/yyyy"}}
              </strong>
            </div>
            <div>
              Data de devolução:
              <strong>
                {{vm.loan.refound | date: "dd/MM/yyyy"}}
              </strong>
            </div>
          </div>

        </md-content>

        <md-content>
          <div>
            <p>
              Usuário:
              <strong>{{vm.user.name}}</strong>
            </p>
          </div>
        </md-content>

        <md-content>
          <div class="md-block" flex>
            <label>Motivação:</label>
            <p>{{vm.loan.motivation}}</p>
            <p>{{vm.confirmLoan}}</p>
          </div>
        </md-content>
        <md-content>
          <md-card>
            <md-table-container>
              <table md-table>
                <thead md-head>
                  <tr md-row>
                    <th md-column>Nome</th>
                    <th md-column>Patrimônio</th>
                    <th md-column>Categoria</th>
                    <th md-column>Descrição</th>
                  </tr>
                </thead>
                <tbody md-body>
                  <tr md-row ng-repeat="equipment in vm.loan.equipments">
                    <td md-cell>{{equipment.name}}</td>
                    <td md-cell>{{equipment.serial}}</td>
                    <td md-cell>{{equipment.category.name}}</td>
                    <td md-cell>{{equipment.description}}</td>
                  </tr>
                </tbody>
              </table>
            </md-table-container>
          </md-card>
        </md-content>
      </div>
    </md-dialog-content>
    <md-dialog-actions layout="row">
      <span flex></span>
      <md-button ng-click="vm.cancel()">
        Sair
      </md-button>
      <md-button class="md-raised md-primary" ng-click="vm.setReturnedLoan(vm.loan)" ng-if="vm.selectedChoice.id == 2 || vm.selectedChoice.id == 4 ">
        Confirmar devolução
      </md-button>
      <md-button class="md-raised md-primary" ng-click="vm.setDeliveredLoan(vm.loan)" ng-if="vm.selectedChoice.id == 5">
        Confirmar retirada
      </md-button>
    </md-dialog-actions>
  </form>
</md-dialog>